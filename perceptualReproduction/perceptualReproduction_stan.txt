data {
  int<lower=1> nStimuli;         // Number of unique stimuli
  int<lower=1> nTrials;          // Number of trials
  array[nTrials] int<lower=1, upper=nStimuli> s; // Stimulus index for each trial
  vector[nTrials] y;             // Observed responses (y) (Idiomatic Stan uses vector for continuous data)
  // NOTE: pi is a built-in constant (pi()) and is removed from the data block
}
parameters {
  // mu[2] ~ dunif(0, pi/2)
  real<lower=0, upper=pi()/2> mu_2;
  
  // mu[3] to mu[nStimuli] ~ dunif(0, pi)
  // Use a vector for the remaining continuous parameters
  vector<lower=0, upper=pi()>[nStimuli - 2] mu_others; 
  
  // sigma ~ dunif(0, pi)
  real<lower=0, upper=pi()> sigma;
}
transformed parameters {
  vector[nStimuli] mu;
  mu[1] = 0;              // Fixed value
  mu[2] = mu_2;
  
  // Assign the vector mu_others directly to the slice mu[3:nStimuli]
  mu[3:nStimuli] = mu_others; 
}
model {
  // Priors are implicit in constraints.
  
  // Likelihood (vectorized for efficiency, replaces the loop)
  // y[t] ~ normal(mu[s[t]], sigma)
  y ~ normal(mu[s], sigma); // Vectorized likelihood statement
}